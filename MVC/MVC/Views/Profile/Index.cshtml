@model MVC.Models.ProfileView

<div class="text-center" style="font-size: 48px; margin-top: 20px;">
    <h2>@Model.Username</h2>
    <h3>@Model.Stats</h3>
</div>

<div class="text-center" style="font-size: 48px; margin-top: 20px;">
    <h3>Match History</h3>
</div>

@if (Model.MatchHistory != null && Model.MatchHistory.Count > 0)
{
    <div class="d-flex justify-content-center">
        <div class="col-md-6" style="height: 200px; overflow-y: scroll; border: 1px solid #ccc; padding: 10px;">
            <ul style="list-style: none; padding-left: 0;">
                @foreach (var game in Model.MatchHistory)
                {
                    <li style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;
                        background-color: @(Model.Username == game.Winner ? "#d4edda" : Model.Username == game.Loser ? "#f8d7da" : "#fff3cd"); padding: 10px;">

                        @if (Model.Username == game.Winner)
                        {
                            <span>Won</span>
                        }
                        else if (Model.Username == game.Loser)
                        {
                            <span>Lost</span>
                        }
                        else
                        {
                            <span>Draw</span>
                        }

                        @if (Model.Username == game.Winner)
                        {
                            <span><a asp-controller="Profile" asp-action="Index" asp-route-username="@game.Loser">@game.Loser</a></span>
                        }
                        else if (Model.Username == game.Loser)
                        {
                            <span><a asp-controller="Profile" asp-action="Index" asp-route-username="@game.Winner">@game.Winner</a></span>
                        }
                        else
                        {
                            <span><a asp-controller="Profile" asp-action="Index" asp-route-username="@game.Draw">@game.Draw</a></span>
                        }
                    </li>
                }
            </ul>
        </div>
    </div>
}
else
{
    <p class="text-center">No match history available.</p>
}
